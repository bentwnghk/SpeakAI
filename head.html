<!-- Primary Meta Tags -->
<title>Mr.ðŸ†– PodcastAI - Convert Documents and Websites into Audio Podcasts</title>
<meta name="title" content="Mr.ðŸ†– PodcastAI - Convert Documents and Websites into Audio Podcasts" />
<meta
  name="description"
  content="Easily convert documents amd websites into audio podcasts. Perfect for listening on the go and making content more accessible."
/>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://api.mr5ai.com/" />
<meta
  property="og:title"
  content="Mr.ðŸ†– PodcastAI - Convert Documents and Websites into Audio Podcasts"
/>
<meta
  property="og:description"
  content="Easily convert documents and websites into audio podcasts. Perfect for listening on the go and making content more accessible."
/>
<meta
  property="og:image"
  content="https://privacy.mr5ai.com/image/icon.png"
/>

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content="https://api.mr5ai.com/" />
<meta
  property="twitter:title"
  content="Mr.ðŸ†– PodcastAI - Convert Documents and Websites into Audio Podcasts"
/>
<meta
  property="twitter:description"
  content="Easily convert documents and websites into audio podcasts. Perfect for listening on the go and making content more accessible."
/>
<meta
  property="twitter:image"
  content="https://privacy.mr5ai.com/image/icon.png"
/>

<!-- Additional Meta Tags -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta charset="UTF-8" />
<meta name="author" content="Mr.ðŸ†– AI" />
<meta
  name="keywords"
  content="document to podcast, website to podcast, audio conversion, podcast creation, accessible content"
/>
<link rel="icon" href="/static/icon.png" type="image/png" />

<script>
  function setupApiKeyStorage() {
    const apiKeyElementId = 'mr_ng_ai_hub_api_key_input';
    const apiKeyStorageKey = 'mrNgAiHubApiKey';
    let apiKeyInput = null;
    let attempts = 0;
    const maxAttempts = 50; // Try for 5 seconds (50 * 100ms)

    console.log('Attempting to set up API key storage...');

    const intervalId = setInterval(() => {
      attempts++;
      const apiKeyInputContainer = document.getElementById(apiKeyElementId);
      
      if (apiKeyInputContainer) {
        // Gradio often wraps inputs. The ID might be on a div.
        let potentialInput = apiKeyInputContainer.querySelector('input[type="password"]');
        if (potentialInput) {
            apiKeyInput = potentialInput;
        } else if (apiKeyInputContainer.tagName === 'INPUT' && apiKeyInputContainer.type === 'password') {
            // Or the ID is directly on the input element
            apiKeyInput = apiKeyInputContainer;
        }
      } else {
         // Fallback if ID is directly on the input and not a container
         apiKeyInput = document.getElementById(apiKeyElementId);
      }

      if (apiKeyInput) {
        clearInterval(intervalId);
        // console.log('API key input field found.');

        // Load API key from localStorage
        try {
          const storedApiKey = localStorage.getItem(apiKeyStorageKey);
          if (storedApiKey) {
            // console.log('Stored API key found.');
            apiKeyInput.value = storedApiKey;
            // Dispatch events to ensure Gradio recognizes the change
            apiKeyInput.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));
            apiKeyInput.dispatchEvent(new Event('change', { bubbles: true, cancelable: true }));
            // console.log('API key loaded into input field.');
          } else {
            console.log('No API key found in localStorage.');
          }
        } catch (e) {
          console.error('Error reading from localStorage:', e);
        }

        // Save API key to localStorage on input
        apiKeyInput.addEventListener('input', () => {
          try {
            localStorage.setItem(apiKeyStorageKey, apiKeyInput.value);
            // console.log('API key saved to localStorage.');
          } catch (e) {
            console.error('Error writing to localStorage:', e);
          }
        });
      } else if (attempts >= maxAttempts) {
        clearInterval(intervalId);
        // console.warn(`API key input field with ID "${apiKeyElementId}" (or a password input within it) not found after ${maxAttempts} attempts. Storage functionality will not work.`);
      }
    }, 100); // Check every 100ms
  }

  // Wait for the full page to load, as Gradio might initialize late
  if (document.readyState === 'complete' || document.readyState === 'interactive') {
    setupApiKeyStorage();
  } else {
    window.addEventListener('load', setupApiKeyStorage);
  }
</script>
